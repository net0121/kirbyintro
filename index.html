<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kirby Super Star Intro</title>
    <style>
        /* --- Basic Setup --- */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #111;
            font-family: 'Press Start 2P', sans-serif; /* A fitting retro font */
        }

        /* --- Game Screen Container --- */
        #game-container {
            width: 512px;   /* SNES resolution was 256px wide, scaled up */
            height: 448px;  /* SNES resolution was 224px high, scaled up */
            background-color: black;
            position: relative;
            overflow: hidden;
            border: 2px solid #333;
        }

        /* --- Scene Management --- */
        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease;
        }

        .scene.active {
            opacity: 1;
            visibility: visible;
        }

        /* --- Sprites (Placeholder Blocks) --- */
        .sprite {
            position: absolute;
            /* Default styles for easy replacement */
            background-size: contain;
            background-repeat: no-repeat;
        }

        /* == Scene 1: Logos == */
        #logo-scene {
            background-color: black;
        }
        #nintendo-logo {
            width: 120px;
            height: 45px;
            background-color: #42a5f5; /* Light Blue */
            top: 35%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            display: flex; justify-content: center; align-items: center; font-size: 14px;
        }
        #halken-logo {
            width: 80px;
            height: 60px;
            background-color: #4caf50; /* Green */
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            display: flex; justify-content: center; align-items: center; font-size: 14px;
        }

        /* == Scene 2: Flying Animation == */
        #flying-scene {
             background-color: #2499ff; /* Sky Blue */
        }
        #kirby-container {
            position: absolute;
            width: 60px;
            height: 60px;
            /* JS will control top/left/transform */
        }
        #kirby {
            width: 100%;
            height: 100%;
            background-color: #ff80ab; /* Pink */
            border-radius: 50%;
        }
        #warp-star {
            width: 70px;
            height: 70px;
            background-color: #ffeb3b; /* Yellow */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
        }
        .cloud {
            width: 80px;
            height: 50px;
            background-color: white;
            border-radius: 25px;
        }
        #grass-field {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 50%;
            background-color: #66bb6a; /* Grass Green */
            transform: translateY(100%); /* Start off-screen */
        }
        #mountains {
            position: absolute;
            bottom: 50%;
            width: 100%;
            height: 40px;
            background-color: #388e3c; /* Darker Green for Mountains */
        }


        /* == Scene 3: Title Screen == */
        #title-scene {
            background-color: #f8bbd0; /* Polka dot pink background */
        }
        #title-kirby {
            width: 150px;
            height: 130px;
            background-color: #ff80ab; /* Pink */
            position: absolute;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 5px solid #c2185b;
            color: white;
            display: flex; justify-content: center; align-items: center; font-size: 20px;
        }
        #title-logo {
            width: 400px;
            height: 200px;
            background-color: #fbc02d; /* Gold */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
            color: #c49000;
            display: flex; justify-content: center; align-items: center; font-size: 30px;
        }
        #title-copyright {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            color: #c2185b;
            font-size: 12px;
        }
        #spring-breeze-text {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            color: #6a1b9a; /* Purple */
            background-color: rgba(0,0,0,0.8);
            opacity: 0; /* Hidden initially */
            transition: opacity 1s ease;
        }

    </style>
</head>
<body>

<div id="game-container">
    <div id="logo-scene" class="scene">
        <div id="nintendo-logo" class="sprite">Nintendo</div>
        <div id="halken-logo" class="sprite">HALKEN</div>
    </div>

    <div id="flying-scene" class="scene">
        <div id="grass-field">
            <div id="mountains"></div>
        </div>
        <div id="kirby-container" class="sprite">
            <div id="warp-star" class="sprite"></div>
            <div id="kirby" class="sprite"></div>
        </div>
    </div>
    
    <div id="title-scene" class="scene">
        <div id="title-logo" class="sprite">TITLE EMBLEM</div>
        <div id="title-kirby" class="sprite">Kirby</div>
        <div id="title-copyright" class="sprite">
            &copy; 1995, 1996 HAL Laboratory, Inc.<br>
            &copy; 1995, 1996 Nintendo
        </div>
        <div id="spring-breeze-text">SPRING BREEZE</div>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Element References ---
        const gameContainer = document.getElementById('game-container');
        const logoScene = document.getElementById('logo-scene');
        const flyingScene = document.getElementById('flying-scene');
        const titleScene = document.getElementById('title-scene');
        const kirbyContainer = document.getElementById('kirby-container');
        const grassField = document.getElementById('grass-field');
        const springBreeze = document.getElementById('spring-breeze-text');

        // --- Helper Functions ---
        const sleep = ms => new Promise(res => setTimeout(res, ms));

        function switchScene(activeScene) {
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            activeScene.classList.add('active');
        }

        // Add some random clouds to the flying scene
        function createClouds() {
            for (let i = 0; i < 5; i++) {
                const cloud = document.createElement('div');
                cloud.className = 'sprite cloud';
                cloud.style.top = `${Math.random() * 40}%`;
                cloud.style.left = `${Math.random() * 90}%`;
                flyingScene.appendChild(cloud);
            }
        }

        // --- Main Animation Sequence ---
        async function playIntro() {
            // --- Scene 1: Logos (3 seconds) ---
            switchScene(logoScene);
            await sleep(3000);

            // --- Scene 2: Flying Animation (11 seconds total) ---
            createClouds();
            switchScene(flyingScene);

            // 1. Kirby flies in from the right and zooms in (3 seconds)
            kirbyContainer.style.transition = 'transform 3s ease-out, left 3s ease-out, top 3s ease-out';
            kirbyContainer.style.left = '120%';
            kirbyContainer.style.top = '20%';
            kirbyContainer.style.transform = 'scale(0.5)';
            await sleep(50); // allow initial styles to apply
            kirbyContainer.style.left = '40%';
            kirbyContainer.style.top = '40%';
            kirbyContainer.style.transform = 'scale(1.5)';
            await sleep(3000);

            // 2. Camera pans down to the grass (1 second)
            grassField.style.transition = 'transform 1s ease-in';
            grassField.style.transform = 'translateY(0%)';
            await sleep(1000);

            // 3. Kirby on ground (2 seconds)
            kirbyContainer.style.transition = 'transform 0.5s, top 0.5s';
            kirbyContainer.style.top = '65%';
            kirbyContainer.style.transform = 'scale(1)';
            await sleep(2000);

            // 4. Kirby takes off and flies away (3 seconds)
            grassField.style.transition = 'transform 2s ease-out';
            grassField.style.transform = 'translateY(100%)'; // Move grass away
            kirbyContainer.style.transition = 'transform 3s ease-in, top 3s ease-in, left 3s ease-in';
            kirbyContainer.style.top = '-20%';
            kirbyContainer.style.left = '20%';
            kirbyContainer.style.transform = 'scale(0.2)';
            await sleep(3000);

            // 5. Short pause in dark blue (1 second)
            flyingScene.style.backgroundColor = '#002f6c';
            await sleep(1000);
            
            // --- Scene 3: Title Screen (appears after star flash) ---
            // Note: The star flash is complex and best done with a canvas or many elements.
            // We'll skip the flash and go straight to the title for this example.
            switchScene(titleScene);
            await sleep(3000);

            // --- Final Part: "Spring Breeze" appears ---
            springBreeze.style.opacity = 1;
        }

        // Start the intro!
        playIntro();
    });
</script>

</body>
</html>
