/* --- Basic Setup --- */
body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background-color: #111;
    font-family: monospace;
}

#game-container {
    width: 512px;
    height: 448px;
    background-color: black;
    position: relative;
    overflow: hidden;
    border: 2px solid #333;
}

/* --- Scene Management --- */
.scene {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease;
}

.scene.active {
    opacity: 1;
    visibility: visible;
}

/* --- Sprites (Placeholders) --- */
.sprite {
    position: absolute;
    background-size: contain;
    background-repeat: no-repeat;
}

/* == Scene 1: Logos == */
#logo-scene { background-color: black; }
#nintendo-logo, #halken-logo {
    color: white;
    display: flex; justify-content: center; align-items: center; font-size: 14px;
    left: 50%;
    transform-origin: center center;
    transform: translate(-50%, -50%) scale(0);
}
#nintendo-logo { width: 120px; height: 45px; background-color: #42a5f5; top: 35%; }
#halken-logo { width: 80px; height: 60px; background-color: #4caf50; top: 55%; }

/* == Scene 2 & 3: Flying & Ground == */
#sky-scene { background-color: #2499ff; }
#ground-scene { background-color: #66bb6a; }
#kirby-container { width: 60px; height: 60px; }
#kirby { width: 100%; height: 100%; background-color: #ff80ab; border-radius: 50%; }
#warp-star { width: 70px; height: 70px; background-color: #ffeb3b; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: -1; }
.cloud { width: 80px; height: 50px; background-color: white; border-radius: 25px; }
.landing-star { position: absolute; width: 15px; height: 15px; background-color: #ffeb3b; transition: transform 0.3s ease-out, opacity 0.3s ease-out; }

/* == Scene 4: Title Screen == */
#title-scene {
    background-image: url('kirby_title_screen.png');
    background-size: 100% 100%;
    background-position: center;
}
#star-burst-container { position: absolute; width: 100%; height: 100%; background-color: #43a047; }
.star { position: absolute; top: 50%; left: 50%; width: 12px; height: 12px; background-color: #ffeb3b; }

/* == System & Overlays == */
#black-overlay {
    position: absolute; width: 100%; height: 100%;
    background-color: black;
    opacity: 0;
    visibility: hidden;
    transition: opacity 1s ease;
    z-index: 100;
}

/* --- ANIMATIONS --- */
.squash-in { animation: squash-stretch-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
.is-flying-in { animation: fly-in-path 3.5s ease-out forwards; }
.is-dashing { animation: kirby-dash 0.25s ease-in-out; }
.is-flying-out { animation: fly-out-path 3s ease-in forwards; }
.is-shaking { animation: screen-shake 0.4s linear; }

@keyframes squash-stretch-in {
    0%   { transform: translate(-50%, -50%) scale(0.5, 1.5); }
    40%  { transform: translate(-50%, -50%) scale(1.3, 0.7); }
    70%  { transform: translate(-50%, -50%) scale(0.9, 1.1); }
    100% { transform: translate(-50%, -50%) scale(1, 1); }
}

@keyframes fly-in-path {
    0%   { top: 5%; left: 110%; transform: scale(0.4); }
    50%  { top: 30%; left: 60%; transform: scale(0.8); }
    85%  { top: 42%; left: 40%; transform: scale(1.7, 1.3); } /* Bounce */
    100% { top: 40%; left: 42%; transform: scale(1.5); }
}

@keyframes kirby-dash {
    50% { transform: translateX(-40px); }
    100% { transform: translateX(0); }
}

@keyframes fly-out-path {
    0%   { top: 60%; left: 45%; transform: scale(1); opacity: 1; }
    90%  { opacity: 1; }
    100% { top: 30%; left: 25%; transform: scale(0.05); opacity: 0; } /* Shrink to a point */
}

@keyframes screen-shake {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(3px, -2px); }
    50% { transform: translate(-2px, 2px); }
    75% { transform: translate(2px, 3px); }
}
